pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
--protect the circle
--by miguel maltez

function _init()
	plr = {x=63,y=63}
	sws={}
end

function _update()
	if (btn(⬅️)) plr.x -=1
	if (btn(➡️)) plr.x +=1
	if (btn(⬆️)) plr.y -=1
	if (btn(⬇️)) plr.y +=1
	update_shockwaves()
	if btnp(🅾️) then
		sfx(1)
	 create_shockwave()
	end
end

function _draw()
	cls()
	circ(plr.x,plr.y,5,4)
	draw_shockwaves()
	print(#sws,0,0,8)
end
-->8
-- shockwave

function create_shockwave()
	add(sws,{cx=plr.x, cy=plr.y,r=1})
end

function update_shockwaves()
	for sw in all(sws) do
		sw.r += 0.2
		if sw.r > 60 then
			del(sws,sw)
		end
	end
end

function draw_shockwaves()
	for sw in all(sws) do
		circ(sw.cx,sw.cy,sw.r,12)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00020000080501e0502b050350503a050390502d0501e05018050130500f0500d0500a05009050080500705007050060500605005050050500305003050010500005000050000000000000000000000000000000
