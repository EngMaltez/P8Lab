pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- snake
-- by zetlam
-- spent: â§—

ticks = 0
move_beat=30

grid_size=4

head={x=15,y=15}
body={head}
dx,dy = 0,0

function _init()
end

function _update()
	if (btnp(â¬…ï¸)) dx,dy = -1,0
	if (btnp(âž¡ï¸)) dx,dy = 1,0
	if (btnp(â¬†ï¸)) dx,dy = 0,-1
	if (btnp(â¬‡ï¸)) dx,dy = 0,1
	if (btnp(ðŸ…¾ï¸)) grow_snake()
	ticks += 1
	if (ticks>=move_beat) then
		ticks=0
		if (dx!=0 or dy!=0) sfx(1)
		move_snake()
	end
end

function _draw()
	cls()
	print(head.x..","..head.y,7)
	print(#body)
	-- draw head
	rect(
		head.x*grid_size,
		head.y*grid_size,
		(head.x+1)*grid_size-1,
		(head.y+1)*grid_size-1,
		12
	)
end

function move_snake()
	if (dx==0 and dy==0) return
	head.x += dx
	head.y += dy
end

function grow_snake()
	last = #body
	body[last+1] = {
		x=body[last].x,
		y=body[last].y,
	}
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000200001001019000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
